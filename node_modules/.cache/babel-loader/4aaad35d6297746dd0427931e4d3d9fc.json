{"ast":null,"code":"import produce from \"immer\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSagas from \"./sagas\";\nexport var actionTypes = {\n  ORIENTATION: \"ORIENTATION\",\n  GEOLOCATION: \"GEOLOCATION\",\n  CAMERA_MOVE: \"CAMERA_MOVE\",\n  PLACE_USER: \"PLACE_USER\",\n  USER_MOVED: \"USER_MOVED\",\n  START_HEADING: \"START_HEADING\",\n  START_LOCATION: \"START_LOCATION\",\n  SELECT_ROOM: \"SELECT_ROOM\"\n};\nvar initialState = {\n  initialHeading: null,\n  initialLocation: null,\n  orientation: null,\n  coords: {},\n  userPosition: null,\n  targetRoomName: undefined\n};\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    console.log('lance', action.data, action.type);\n\n    switch (action.type) {\n      case \"ERROR\":\n        draft.error = action.error;\n        break;\n\n      case actionTypes.ORIENTATION:\n        // draft.initialHeading = action.orientation.webkitCompassHeading;\n        draft.orientation = action.orientation;\n        break;\n\n      case actionTypes.GEOLOCATION:\n        draft.coords = action.coords;\n        break;\n\n      case actionTypes.PLACE_USER:\n        draft.distanceTraveled = action.distance;\n        draft.userPosition = action.position;\n        break;\n\n      case actionTypes.START_HEADING:\n        draft.initialHeading = action.heading;\n        break;\n\n      case actionTypes.START_LOCATION:\n        draft.initialLocation = action.location;\n        break;\n\n      case action.SELECT_ROOM:\n        draft.targetRoomName = action.data;\n        break;\n\n      default:\n        break;\n    }\n  });\n}\n\nvar sagaMiddleware = createSagaMiddleware();\nvar composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nvar store = createStore(reducer, composeEnhancers(applyMiddleware(sagaMiddleware)));\nsagaMiddleware.run(rootSagas);\nexport default store;","map":{"version":3,"sources":["/Users/lpoehler/workspaces/ar-roomfinder/src/store.js"],"names":["produce","applyMiddleware","compose","createStore","createSagaMiddleware","rootSagas","actionTypes","ORIENTATION","GEOLOCATION","CAMERA_MOVE","PLACE_USER","USER_MOVED","START_HEADING","START_LOCATION","SELECT_ROOM","initialState","initialHeading","initialLocation","orientation","coords","userPosition","targetRoomName","undefined","reducer","state","action","draft","console","log","data","type","error","distanceTraveled","distance","position","heading","location","sagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","run"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AACA,SAASC,eAAT,EAA0BC,OAA1B,EAAmCC,WAAnC,QAAsD,OAAtD;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AAEA,OAAOC,SAAP,MAAsB,SAAtB;AAEA,OAAO,IAAMC,WAAW,GAAG;AACzBC,EAAAA,WAAW,EAAE,aADY;AAEzBC,EAAAA,WAAW,EAAE,aAFY;AAGzBC,EAAAA,WAAW,EAAE,aAHY;AAIzBC,EAAAA,UAAU,EAAE,YAJa;AAKzBC,EAAAA,UAAU,EAAE,YALa;AAMzBC,EAAAA,aAAa,EAAE,eANU;AAOzBC,EAAAA,cAAc,EAAE,gBAPS;AAQzBC,EAAAA,WAAW,EAAE;AARY,CAApB;AAWP,IAAMC,YAAY,GAAG;AACnBC,EAAAA,cAAc,EAAE,IADG;AAEnBC,EAAAA,eAAe,EAAE,IAFE;AAGnBC,EAAAA,WAAW,EAAE,IAHM;AAInBC,EAAAA,MAAM,EAAE,EAJW;AAKnBC,EAAAA,YAAY,EAAE,IALK;AAMnBC,EAAAA,cAAc,EAAEC;AANG,CAArB;;AASA,SAASC,OAAT,GAA+C;AAAA,MAA9BC,KAA8B,uEAAtBT,YAAsB;AAAA,MAARU,MAAQ;AAC7C,SAAOzB,OAAO,CAACwB,KAAD,EAAQ,UAAAE,KAAK,EAAI;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBH,MAAM,CAACI,IAA5B,EAAkCJ,MAAM,CAACK,IAAzC;;AAEA,YAAQL,MAAM,CAACK,IAAf;AACE,WAAK,OAAL;AACEJ,QAAAA,KAAK,CAACK,KAAN,GAAcN,MAAM,CAACM,KAArB;AACA;;AACF,WAAKzB,WAAW,CAACC,WAAjB;AACE;AACAmB,QAAAA,KAAK,CAACR,WAAN,GAAoBO,MAAM,CAACP,WAA3B;AACA;;AACF,WAAKZ,WAAW,CAACE,WAAjB;AACEkB,QAAAA,KAAK,CAACP,MAAN,GAAeM,MAAM,CAACN,MAAtB;AACA;;AACF,WAAKb,WAAW,CAACI,UAAjB;AACEgB,QAAAA,KAAK,CAACM,gBAAN,GAAyBP,MAAM,CAACQ,QAAhC;AACAP,QAAAA,KAAK,CAACN,YAAN,GAAqBK,MAAM,CAACS,QAA5B;AACA;;AACF,WAAK5B,WAAW,CAACM,aAAjB;AACEc,QAAAA,KAAK,CAACV,cAAN,GAAuBS,MAAM,CAACU,OAA9B;AACA;;AACF,WAAK7B,WAAW,CAACO,cAAjB;AACEa,QAAAA,KAAK,CAACT,eAAN,GAAwBQ,MAAM,CAACW,QAA/B;AACA;;AACF,WAAKX,MAAM,CAACX,WAAZ;AACEY,QAAAA,KAAK,CAACL,cAAN,GAAuBI,MAAM,CAACI,IAA9B;AACA;;AACF;AACE;AAzBJ;AA2BD,GA9Ba,CAAd;AA+BD;;AAED,IAAMQ,cAAc,GAAGjC,oBAAoB,EAA3C;AAEA,IAAMkC,gBAAgB,GAAGC,MAAM,CAACC,oCAAP,IAA+CtC,OAAxE;AAEA,IAAMuC,KAAK,GAAGtC,WAAW,CACvBoB,OADuB,EAEvBe,gBAAgB,CAACrC,eAAe,CAACoC,cAAD,CAAhB,CAFO,CAAzB;AAKAA,cAAc,CAACK,GAAf,CAAmBrC,SAAnB;AAEA,eAAeoC,KAAf","sourcesContent":["import produce from \"immer\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport rootSagas from \"./sagas\";\n\nexport const actionTypes = {\n  ORIENTATION: \"ORIENTATION\",\n  GEOLOCATION: \"GEOLOCATION\",\n  CAMERA_MOVE: \"CAMERA_MOVE\",\n  PLACE_USER: \"PLACE_USER\",\n  USER_MOVED: \"USER_MOVED\",\n  START_HEADING: \"START_HEADING\",\n  START_LOCATION: \"START_LOCATION\",\n  SELECT_ROOM: \"SELECT_ROOM\",\n};\n\nconst initialState = {\n  initialHeading: null,\n  initialLocation: null,\n  orientation: null,\n  coords: {},\n  userPosition: null,\n  targetRoomName: undefined,\n};\n\nfunction reducer(state = initialState, action) {\n  return produce(state, draft => {\n    console.log('lance', action.data, action.type)\n\n    switch (action.type) {\n      case \"ERROR\":\n        draft.error = action.error;\n        break;\n      case actionTypes.ORIENTATION:\n        // draft.initialHeading = action.orientation.webkitCompassHeading;\n        draft.orientation = action.orientation;\n        break;\n      case actionTypes.GEOLOCATION:\n        draft.coords = action.coords;\n        break;\n      case actionTypes.PLACE_USER:\n        draft.distanceTraveled = action.distance;\n        draft.userPosition = action.position;\n        break;\n      case actionTypes.START_HEADING:\n        draft.initialHeading = action.heading;\n        break;\n      case actionTypes.START_LOCATION:\n        draft.initialLocation = action.location;\n        break;\n      case action.SELECT_ROOM:\n        draft.targetRoomName = action.data;\n        break;\n      default:\n        break;\n    }\n  });\n}\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(sagaMiddleware))\n);\n\nsagaMiddleware.run(rootSagas);\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}