{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.SplitButtonDumb = undefined;\n\nvar _every2 = require('lodash/every');\n\nvar _every3 = _interopRequireDefault(_every2);\n\nvar _has2 = require('lodash/has');\n\nvar _has3 = _interopRequireDefault(_has2);\n\nvar _map4 = require('lodash/map');\n\nvar _map5 = _interopRequireDefault(_map4);\n\nvar _get2 = require('lodash/get');\n\nvar _get3 = _interopRequireDefault(_get2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('react-peek/prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _styleHelpers = require('../../util/style-helpers');\n\nvar _componentTypes = require('../../util/component-types');\n\nvar _stateManagement = require('../../util/state-management');\n\nvar _Button = require('../Button/Button');\n\nvar _Button2 = _interopRequireDefault(_Button);\n\nvar _ButtonGroup = require('../ButtonGroup/ButtonGroup');\n\nvar _CaretIcon = require('../Icon/CaretIcon/CaretIcon');\n\nvar _CaretIcon2 = _interopRequireDefault(_CaretIcon);\n\nvar _DropMenu = require('../DropMenu/DropMenu');\n\nvar _SplitButton = require('./SplitButton.reducers');\n\nvar reducers = _interopRequireWildcard(_SplitButton);\n\nfunction _interopRequireWildcard(obj) {\n  if (obj && obj.__esModule) {\n    return obj;\n  } else {\n    var newObj = {};\n\n    if (obj != null) {\n      for (var key in obj) {\n        if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key];\n      }\n    }\n\n    newObj.default = obj;\n    return newObj;\n  }\n}\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _toConsumableArray(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  } else {\n    return Array.from(arr);\n  }\n}\n\nfunction _toArray(arr) {\n  return Array.isArray(arr) ? arr : Array.from(arr);\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar cx = _styleHelpers.lucidClassNames.bind('&-SplitButton');\n\nvar any = _propTypes2.default.any,\n    bool = _propTypes2.default.bool,\n    func = _propTypes2.default.func,\n    node = _propTypes2.default.node,\n    oneOf = _propTypes2.default.oneOf,\n    shape = _propTypes2.default.shape,\n    string = _propTypes2.default.string;\nvar SplitButton = (0, _componentTypes.createClass)({\n  displayName: 'SplitButton',\n  statics: {},\n  components: {\n    Button: (0, _componentTypes.createClass)({\n      displayName: 'SplitButton.Button',\n      statics: {},\n      propTypes: {\n        children: any,\n        isDisabled: bool,\n        onClick: func\n      }\n    })\n  },\n  reducers: reducers,\n  propTypes: {\n    DropMenu: shape(_DropMenu.DropMenuDumb.propTypes),\n    children: node,\n    className: string,\n    direction: oneOf(['up', 'down']),\n    kind: oneOf(['primary', 'success', 'warning', 'danger', 'info']),\n    size: oneOf(['short', 'small', 'large']),\n    type: string\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      direction: 'down',\n      type: 'button',\n      DropMenu: _DropMenu.DropMenuDumb.getDefaultProps()\n    };\n  },\n  // Handles clicks on the Primary Button\n  handleClick: function handleClick(_ref) {\n    var event = _ref.event;\n    var clickedButtonProps = (0, _get3.default)((0, _componentTypes.getFirst)(this.props, SplitButton.Button), 'props'); // Stop propagation to prevent this `Click` from expanding the `DropMenu`\n\n    event.stopPropagation();\n    this.handleButtonClick(clickedButtonProps, event);\n  },\n  // Handles clicks in the DropMenu\n  handleSelect: function handleSelect(optionIndex, _ref2) {\n    var event = _ref2.event;\n    var buttonChildProps = (0, _map5.default)((0, _componentTypes.filterTypes)(this.props.children, SplitButton.Button), 'props');\n    this.handleButtonClick(buttonChildProps[optionIndex + 1], event);\n  },\n  handleButtonClick: function handleButtonClick(buttonProps, event) {\n    var onCollapse = this.props.DropMenu.onCollapse;\n    onCollapse();\n\n    if ((0, _has3.default)(buttonProps, 'onClick')) {\n      buttonProps.onClick({\n        event: event,\n        props: buttonProps\n      });\n    }\n  },\n  render: function render() {\n    var _props = this.props,\n        className = _props.className,\n        kind = _props.kind,\n        direction = _props.direction,\n        type = _props.type,\n        size = _props.size,\n        dropMenuProps = _props.DropMenu,\n        passThroughs = _objectWithoutProperties(_props, ['className', 'kind', 'direction', 'type', 'size', 'DropMenu']);\n\n    var isExpanded = dropMenuProps.isExpanded;\n\n    var _map2 = (0, _map5.default)((0, _componentTypes.filterTypes)(this.props.children, SplitButton.Button), 'props'),\n        _map3 = _toArray(_map2),\n        primaryButtonProps = _map3[0],\n        buttonChildProps = _map3.slice(1);\n\n    return _react2.default.createElement(_DropMenu.DropMenuDumb, _extends({}, dropMenuProps, (0, _componentTypes.omitProps)(passThroughs, SplitButton, [], false), {\n      direction: direction,\n      className: cx('&', className),\n      onSelect: this.handleSelect\n    }), _react2.default.createElement(_DropMenu.DropMenuDumb.Control, null, _react2.default.createElement(_ButtonGroup.ButtonGroupDumb, null, _react2.default.createElement(_Button2.default, _extends({}, primaryButtonProps, {\n      className: cx('&-Button-primary', (0, _get3.default)(primaryButtonProps, 'className')),\n      kind: kind,\n      type: type,\n      size: size,\n      onClick: this.handleClick\n    })), _react2.default.createElement(_Button2.default, {\n      className: cx('&-Button-drop'),\n      size: size,\n      hasOnlyIcon: true,\n      isActive: isExpanded,\n      kind: kind,\n      isDisabled: (0, _every3.default)([primaryButtonProps].concat(_toConsumableArray(buttonChildProps)), 'isDisabled')\n    }, _react2.default.createElement(_CaretIcon2.default, {\n      className: cx('&-CaretIcon'),\n      direction: direction,\n      size: 8\n    })))), (0, _map5.default)(buttonChildProps, function (buttonChildProp, index) {\n      return _react2.default.createElement(_DropMenu.DropMenuDumb.Option, _extends({}, buttonChildProp, {\n        key: index\n      }));\n    }));\n  }\n});\nexports.default = (0, _stateManagement.buildHybridComponent)(SplitButton);\nexports.SplitButtonDumb = SplitButton;","map":null,"metadata":{},"sourceType":"script"}