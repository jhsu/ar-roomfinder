{"ast":null,"code":"import produce from \"immer\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\nimport rootSagas from \"./sagas\";\nexport var actions = {\n  ORIENTATION: \"ORIENTATION\",\n  GEOLOCATION: \"GEOLOCATION\",\n  CAMERA_MOVE: \"CAMERA_MOVE\",\n  PLACE_USER: \"PLACE_USER\",\n  USER_MOVED: \"USER_MOVED\",\n  START_HEADING: \"START_HEADING\",\n  START_LOCATION: \"START_LOCATION\"\n};\nvar initialState = {\n  initialHeading: null,\n  initialLocation: null,\n  orientation: null,\n  coords: {},\n  userPosition: null\n};\n\nfunction reducer() {\n  var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initialState;\n  var action = arguments.length > 1 ? arguments[1] : undefined;\n  return produce(state, function (draft) {\n    switch (action.type) {\n      case \"ERROR\":\n        draft.error = action.error;\n        break;\n\n      case actions.ORIENTATION:\n        // draft.initialHeading = action.orientation.webkitCompassHeading;\n        draft.orientation = action.orientation;\n        break;\n\n      case actions.GEOLOCATION:\n        draft.coords = action.coords;\n        break;\n\n      case actions.PLACE_USER:\n        draft.distanceTraveled = action.distance;\n        draft.userPosition = action.position;\n        break;\n\n      case actions.START_HEADING:\n        draft.initialHeading = action.heading;\n        break;\n\n      case actions.START_LOCATION:\n        draft.initialLocation = action.location;\n        break;\n\n      default:\n        break;\n    }\n  });\n}\n\nvar sagaMiddleware = createSagaMiddleware();\nvar composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nvar store = createStore(reducer, composeEnhancers(applyMiddleware(sagaMiddleware)));\nsagaMiddleware.run(rootSagas);\nexport default store;","map":{"version":3,"sources":["/Users/lpoehler/workspaces/ar-roomfinder/src/store.js"],"names":["produce","applyMiddleware","compose","createStore","createSagaMiddleware","rootSagas","actions","ORIENTATION","GEOLOCATION","CAMERA_MOVE","PLACE_USER","USER_MOVED","START_HEADING","START_LOCATION","initialState","initialHeading","initialLocation","orientation","coords","userPosition","reducer","state","action","draft","type","error","distanceTraveled","distance","position","heading","location","sagaMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","run"],"mappings":"AAAA,OAAOA,OAAP,MAAoB,OAApB;AACA,SAASC,eAAT,EAA0BC,OAA1B,EAAmCC,WAAnC,QAAsD,OAAtD;AACA,OAAOC,oBAAP,MAAiC,YAAjC;AAEA,OAAOC,SAAP,MAAsB,SAAtB;AAEA,OAAO,IAAMC,OAAO,GAAG;AACrBC,EAAAA,WAAW,EAAE,aADQ;AAErBC,EAAAA,WAAW,EAAE,aAFQ;AAGrBC,EAAAA,WAAW,EAAE,aAHQ;AAIrBC,EAAAA,UAAU,EAAE,YAJS;AAKrBC,EAAAA,UAAU,EAAE,YALS;AAMrBC,EAAAA,aAAa,EAAE,eANM;AAOrBC,EAAAA,cAAc,EAAE;AAPK,CAAhB;AAUP,IAAMC,YAAY,GAAG;AACnBC,EAAAA,cAAc,EAAE,IADG;AAEnBC,EAAAA,eAAe,EAAE,IAFE;AAGnBC,EAAAA,WAAW,EAAE,IAHM;AAInBC,EAAAA,MAAM,EAAE,EAJW;AAKnBC,EAAAA,YAAY,EAAE;AALK,CAArB;;AAQA,SAASC,OAAT,GAA+C;AAAA,MAA9BC,KAA8B,uEAAtBP,YAAsB;AAAA,MAARQ,MAAQ;AAC7C,SAAOtB,OAAO,CAACqB,KAAD,EAAQ,UAAAE,KAAK,EAAI;AAC7B,YAAQD,MAAM,CAACE,IAAf;AACE,WAAK,OAAL;AACED,QAAAA,KAAK,CAACE,KAAN,GAAcH,MAAM,CAACG,KAArB;AACA;;AACF,WAAKnB,OAAO,CAACC,WAAb;AACE;AACAgB,QAAAA,KAAK,CAACN,WAAN,GAAoBK,MAAM,CAACL,WAA3B;AACA;;AACF,WAAKX,OAAO,CAACE,WAAb;AACEe,QAAAA,KAAK,CAACL,MAAN,GAAeI,MAAM,CAACJ,MAAtB;AACA;;AACF,WAAKZ,OAAO,CAACI,UAAb;AACEa,QAAAA,KAAK,CAACG,gBAAN,GAAyBJ,MAAM,CAACK,QAAhC;AACAJ,QAAAA,KAAK,CAACJ,YAAN,GAAqBG,MAAM,CAACM,QAA5B;AACA;;AACF,WAAKtB,OAAO,CAACM,aAAb;AACEW,QAAAA,KAAK,CAACR,cAAN,GAAuBO,MAAM,CAACO,OAA9B;AACA;;AACF,WAAKvB,OAAO,CAACO,cAAb;AACEU,QAAAA,KAAK,CAACP,eAAN,GAAwBM,MAAM,CAACQ,QAA/B;AACA;;AACF;AACE;AAtBJ;AAwBD,GAzBa,CAAd;AA0BD;;AAED,IAAMC,cAAc,GAAG3B,oBAAoB,EAA3C;AAEA,IAAM4B,gBAAgB,GAAGC,MAAM,CAACC,oCAAP,IAA+ChC,OAAxE;AAEA,IAAMiC,KAAK,GAAGhC,WAAW,CACvBiB,OADuB,EAEvBY,gBAAgB,CAAC/B,eAAe,CAAC8B,cAAD,CAAhB,CAFO,CAAzB;AAKAA,cAAc,CAACK,GAAf,CAAmB/B,SAAnB;AAEA,eAAe8B,KAAf","sourcesContent":["import produce from \"immer\";\nimport { applyMiddleware, compose, createStore } from \"redux\";\nimport createSagaMiddleware from \"redux-saga\";\n\nimport rootSagas from \"./sagas\";\n\nexport const actions = {\n  ORIENTATION: \"ORIENTATION\",\n  GEOLOCATION: \"GEOLOCATION\",\n  CAMERA_MOVE: \"CAMERA_MOVE\",\n  PLACE_USER: \"PLACE_USER\",\n  USER_MOVED: \"USER_MOVED\",\n  START_HEADING: \"START_HEADING\",\n  START_LOCATION: \"START_LOCATION\"\n};\n\nconst initialState = {\n  initialHeading: null,\n  initialLocation: null,\n  orientation: null,\n  coords: {},\n  userPosition: null\n};\n\nfunction reducer(state = initialState, action) {\n  return produce(state, draft => {\n    switch (action.type) {\n      case \"ERROR\":\n        draft.error = action.error;\n        break;\n      case actions.ORIENTATION:\n        // draft.initialHeading = action.orientation.webkitCompassHeading;\n        draft.orientation = action.orientation;\n        break;\n      case actions.GEOLOCATION:\n        draft.coords = action.coords;\n        break;\n      case actions.PLACE_USER:\n        draft.distanceTraveled = action.distance;\n        draft.userPosition = action.position;\n        break;\n      case actions.START_HEADING:\n        draft.initialHeading = action.heading;\n        break;\n      case actions.START_LOCATION:\n        draft.initialLocation = action.location;\n        break;\n      default:\n        break;\n    }\n  });\n}\n\nconst sagaMiddleware = createSagaMiddleware();\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  reducer,\n  composeEnhancers(applyMiddleware(sagaMiddleware))\n);\n\nsagaMiddleware.run(rootSagas);\n\nexport default store;\n"]},"metadata":{},"sourceType":"module"}