{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _map2 = require('lodash/map');\n\nvar _map3 = _interopRequireDefault(_map2);\n\nvar _isEqual2 = require('lodash/isEqual');\n\nvar _isEqual3 = _interopRequireDefault(_isEqual2);\n\nvar _noop2 = require('lodash/noop');\n\nvar _noop3 = _interopRequireDefault(_noop2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('react-peek/prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _Icon = require('../Icon/Icon');\n\nvar _Icon2 = _interopRequireDefault(_Icon);\n\nvar _RadioButtonLabeled = require('../RadioButtonLabeled/RadioButtonLabeled');\n\nvar _RadioButtonLabeled2 = _interopRequireDefault(_RadioButtonLabeled);\n\nvar _CheckboxLabeled = require('../CheckboxLabeled/CheckboxLabeled');\n\nvar _CheckboxLabeled2 = _interopRequireDefault(_CheckboxLabeled);\n\nvar _styleHelpers = require('../../util/style-helpers.js');\n\nvar _componentTypes = require('../../util/component-types');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar cx = _styleHelpers.lucidClassNames.bind('&-IconSelect');\n\nvar arrayOf = _propTypes2.default.arrayOf,\n    bool = _propTypes2.default.bool,\n    func = _propTypes2.default.func,\n    node = _propTypes2.default.node,\n    number = _propTypes2.default.number,\n    oneOf = _propTypes2.default.oneOf,\n    string = _propTypes2.default.string,\n    shape = _propTypes2.default.shape;\n\nvar getFigureParent = function getFigureParent(domNode) {\n  if (domNode.classList.contains(cx('&-Item'))) {\n    return domNode;\n  }\n\n  if (domNode === document.body) {\n    throw new Error('domNode is not a child of .' + cx('&-Item'));\n  }\n\n  return getFigureParent(domNode.parentElement);\n};\n\nvar IconSelect = (0, _componentTypes.createClass)({\n  displayName: 'IconSelect',\n  statics: {},\n  propTypes: {\n    className: string,\n    children: node,\n    items: arrayOf(shape({\n      id: string.isRequired,\n      icon: node,\n      label: node,\n      isSelected: bool,\n      isPartial: bool,\n      tabIndex: number,\n      isDisabled: bool,\n      className: string\n    })).isRequired,\n    kind: oneOf(['single', 'multiple']),\n    onSelect: func,\n    isDisabled: bool\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      kind: 'multiple',\n      isDisabled: false,\n      onSelect: _noop3.default\n    };\n  },\n  handleClick: function handleClick(event) {\n    if (!this.props.isDisabled) {\n      var domNode = getFigureParent(event.target);\n      var id = domNode.dataset.id;\n      domNode.focus();\n\n      if (!domNode.hasAttribute('disabled')) {\n        this.props.onSelect(id, {\n          event: event,\n          props: this.props\n        });\n      }\n    }\n  },\n  getChildIcon: function getChildIcon(icon) {\n    return icon ? icon : _react2.default.createElement(_Icon2.default, null, _react2.default.createElement('rect', {\n      x: '0',\n      y: '0',\n      width: '16',\n      height: '16'\n    }), _react2.default.createElement('rect', {\n      x: '1',\n      y: '1',\n      width: '14',\n      height: '14',\n      fill: 'white'\n    }));\n  },\n  getInputComponent: function getInputComponent(item) {\n    var _props = this.props,\n        kind = _props.kind,\n        className = _props.className,\n        isDisabled = _props.isDisabled;\n    var Label = item.label;\n    var singleSelect = (0, _isEqual3.default)(kind, 'single');\n    return singleSelect ? _react2.default.createElement(_RadioButtonLabeled2.default, {\n      Label: Label,\n      className: cx('&-Item-radio', _defineProperty({}, className + '-radio', className)),\n      isDisabled: isDisabled || item.isDisabled,\n      isSelected: item.isSelected,\n      tabIndex: item.tabIndex\n    }) : _react2.default.createElement(_CheckboxLabeled2.default, {\n      Label: Label,\n      className: cx('&-Item-checkbox', _defineProperty({}, className + '-checkbox', className)),\n      isDisabled: isDisabled || item.isDisabled,\n      isIndeterminate: item.isPartial,\n      isSelected: item.isSelected,\n      tabIndex: item.tabIndex\n    });\n  },\n  render: function render() {\n    var _this = this;\n\n    var _props2 = this.props,\n        className = _props2.className,\n        children = _props2.children,\n        kind = _props2.kind,\n        items = _props2.items,\n        isDisabled = _props2.isDisabled,\n        passThroughs = _objectWithoutProperties(_props2, ['className', 'children', 'kind', 'items', 'isDisabled']);\n\n    return _react2.default.createElement('span', _extends({}, (0, _componentTypes.omitProps)(passThroughs, IconSelect, ['items']), {\n      className: cx('&', className)\n    }), (0, _map3.default)(items, function (childItem, index) {\n      var _cx3;\n\n      return _react2.default.createElement('figure', {\n        key: 'iconselectitem_' + index,\n        className: cx('&-Item', childItem.className, (_cx3 = {}, _defineProperty(_cx3, className + '-Item', className), _defineProperty(_cx3, '&-Item-is-disabled', isDisabled || childItem.isDisabled), _defineProperty(_cx3, '&-Item-is-partial', childItem.isPartial), _defineProperty(_cx3, '&-Item-is-selected', childItem.isSelected), _defineProperty(_cx3, '&-Item-multi', kind === 'multiple'), _defineProperty(_cx3, '&-Item-single', kind === 'single'), _cx3)),\n        'data-id': childItem.id,\n        onClick: _this.handleClick,\n        disabled: isDisabled || childItem.isDisabled\n      }, _this.getChildIcon(childItem.icon), _react2.default.createElement('figcaption', {\n        className: cx('&-Item-figcaption')\n      }, _this.getInputComponent(childItem)));\n    }), children);\n  }\n});\nexports.default = IconSelect;","map":null,"metadata":{},"sourceType":"script"}