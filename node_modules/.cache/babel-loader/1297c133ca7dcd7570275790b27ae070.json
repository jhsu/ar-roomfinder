{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _map2 = require('lodash/map');\n\nvar _map3 = _interopRequireDefault(_map2);\n\nvar _take2 = require('lodash/take');\n\nvar _take3 = _interopRequireDefault(_take2);\n\nvar _takeRight2 = require('lodash/takeRight');\n\nvar _takeRight3 = _interopRequireDefault(_takeRight2);\n\nvar _times2 = require('lodash/times');\n\nvar _times3 = _interopRequireDefault(_times2);\n\nvar _isFunction2 = require('lodash/isFunction');\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2);\n\nvar _noop2 = require('lodash/noop');\n\nvar _noop3 = _interopRequireDefault(_noop2);\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = require('react-peek/prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _styleHelpers = require('../../util/style-helpers');\n\nvar _componentTypes = require('../../util/component-types');\n\nvar _SlidePanel = require('../SlidePanel/SlidePanel');\n\nvar _SlidePanel2 = _interopRequireDefault(_SlidePanel);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nvar cx = _styleHelpers.lucidClassNames.bind('&-InfiniteSlidePanel');\n\nvar func = _propTypes2.default.func,\n    node = _propTypes2.default.node,\n    number = _propTypes2.default.number,\n    oneOfType = _propTypes2.default.oneOfType,\n    string = _propTypes2.default.string;\n\nvar modulo = function modulo(n, a) {\n  return a - n * Math.floor(a / n);\n};\n\nvar InfiniteSlidePanel = (0, _componentTypes.createClass)({\n  displayName: 'InfiniteSlidePanel',\n  statics: {},\n  _isPrivate: true,\n  components: {\n    Slide: (0, _componentTypes.createClass)({\n      displayName: 'InfiniteSlidePanel.Slide',\n      propName: 'Slide'\n    })\n  },\n  propTypes: {\n    className: string,\n    children: oneOfType([node, func]),\n    offset: number,\n    slidesToShow: number,\n    onSwipe: func,\n    totalSlides: number\n  },\n  getDefaultProps: function getDefaultProps() {\n    return {\n      offset: 0,\n      slidesToShow: 1,\n      onSwipe: _noop3.default,\n      totalSlides: 8\n    };\n  },\n  render: function render() {\n    var _props = this.props,\n        children = _props.children,\n        className = _props.className,\n        offset = _props.offset,\n        slidesToShow = _props.slidesToShow,\n        onSwipe = _props.onSwipe,\n        totalSlides = _props.totalSlides,\n        passThroughs = _objectWithoutProperties(_props, ['children', 'className', 'offset', 'slidesToShow', 'onSwipe', 'totalSlides']);\n\n    var slide = (0, _componentTypes.getFirst)(this.props, InfiniteSlidePanel.Slide) || _react2.default.createElement(InfiniteSlidePanel.Slide, null, children);\n\n    var slideChildRenderFunction = slide.props.children;\n\n    if (!(0, _isFunction3.default)(slideChildRenderFunction)) {\n      throw new Error('InfiniteSlidePanel children must be a single function `(slideOffset) => { /* returns React.PropTypes.node */ }`');\n    }\n\n    var halfSlides = Math.floor(totalSlides / 2);\n    var circularOffset = modulo(totalSlides, offset);\n    var forwardSlideOffsets = (0, _times3.default)(totalSlides - halfSlides, function (n) {\n      return offset + n;\n    });\n    var backwardSlideOffsets = (0, _times3.default)(halfSlides, function (n) {\n      return offset + n - halfSlides;\n    });\n    var transposedSlideOffsets = forwardSlideOffsets.concat(backwardSlideOffsets);\n    var slideOffsetArray = (0, _takeRight3.default)(transposedSlideOffsets, circularOffset).concat((0, _take3.default)(transposedSlideOffsets, totalSlides - circularOffset));\n    return _react2.default.createElement(_SlidePanel2.default, _extends({}, (0, _componentTypes.omitProps)(passThroughs, InfiniteSlidePanel, [], false), {\n      className: cx('&', className),\n      offset: offset,\n      slidesToShow: slidesToShow,\n      onSwipe: onSwipe,\n      isLooped: true\n    }), (0, _map3.default)(slideOffsetArray, function (slideOffset, elementOffset) {\n      return _react2.default.createElement(_SlidePanel2.default.Slide, _extends({\n        key: elementOffset\n      }, slide.props, {\n        className: cx({\n          '&-Slide-in-frame': slideOffset - offset < slidesToShow && slideOffset - offset >= 0\n        }, slide.props.className)\n      }), slideChildRenderFunction(slideOffset));\n    }));\n  }\n});\nexports.default = InfiniteSlidePanel;","map":null,"metadata":{},"sourceType":"script"}